{"ast":null,"code":"var _jsxFileName = \"/Users/elektroforesis/mppl-baru/mangan-mppl/frontend/src/components/QuantityButton.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport React, { useContext, useState } from \"react\";\nimport { AppContext } from \"../App\";\nimport EditIcon from \"../assets/checkout/EditIcon\";\nimport { THEME } from \"../constants/Theme\";\nimport { checkoutModel } from \"./API/GetAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction QuantityButton(_ref) {\n  _s();\n\n  let {\n    index,\n    item,\n    qty,\n    initQty,\n    onClick\n  } = _ref;\n  const [ItemQty, setItemQty] = React.useState(initQty);\n  const {\n    APICheckout,\n    setAPICheckout\n  } = useContext(AppContext); // const [foodID, setFoodID] = React.useState()\n\n  const deleteFromCheckout = async index => {\n    let foodID = 0;\n\n    for (let i = 0; i < APICheckout.length; i++) {\n      console.log(\"MASUKK\");\n\n      if (APICheckout[i].f_id == index) {\n        console.log(\"DAPETT\");\n        foodID = APICheckout[i].id;\n      }\n    }\n\n    try {\n      await axios.delete(`http://localhost:8080/checkout/${foodID}`);\n    } catch (error) {\n      console.log(error);\n    }\n\n    const checkout = await checkoutModel(item);\n    setAPICheckout(checkout);\n    console.log(\"DELL\", index);\n    getAPI();\n  };\n\n  const getAPI = async items => {\n    const checkout = await checkoutModel(items);\n    setAPICheckout(checkout);\n    const foods = await foodModel();\n    setAPIFoods(foods);\n    let tot = [];\n\n    for (let i = 0; i < checkout.length; i++) {\n      tot.push((checkout[i].f_price - checkout[i].f_price * checkout[i].f_discount / 100) * checkout[i].f_quantity);\n    }\n\n    const payTotal = tot.reduce((partialSum, a) => partialSum + a, 0); // if(payTotal!=total ) {\n    // getAPI(item) \n\n    setTotalPrice(payTotal); // }\n    // setTotal(payTotal)\n    // console.log(total!=total) \n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      gap: \"12px\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: \"24px\",\n        height: \"24px\",\n        border: \"1px solid\" + THEME.GREEN_PRIMARY,\n        borderRadius: \"4px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      onClick: () => deleteFromCheckout(index),\n      children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      onClick: ItemQty > 1 ? () => {\n        setItemQty(ItemQty - 1);\n        qty(ItemQty - 1);\n      } : undefined,\n      sx: {\n        width: \"24px\",\n        height: \"24px\",\n        border: \"1px solid\" + THEME.GREEN_PRIMARY,\n        borderRadius: \"4px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        color: THEME.GREEN_PRIMARY,\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"\\u2013\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        fontSize: \"12px\",\n        fontWeight: 600\n      },\n      children: ItemQty\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      onClick: () => {\n        setItemQty(ItemQty + 1);\n        qty(ItemQty + 1);\n      },\n      sx: {\n        width: \"24px\",\n        height: \"24px\",\n        border: \"1px solid\" + THEME.GREEN_PRIMARY,\n        borderRadius: \"4px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        background: THEME.GREEN_PRIMARY,\n        color: \"white\",\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(QuantityButton, \"J4dxNwreiglWVK8voSIjHm83XRQ=\");\n\n_c = QuantityButton;\nexport default QuantityButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuantityButton\");","map":{"version":3,"names":["Box","Button","Typography","axios","React","useContext","useState","AppContext","EditIcon","THEME","checkoutModel","QuantityButton","index","item","qty","initQty","onClick","ItemQty","setItemQty","APICheckout","setAPICheckout","deleteFromCheckout","foodID","i","length","console","log","f_id","id","delete","error","checkout","getAPI","items","foods","foodModel","setAPIFoods","tot","push","f_price","f_discount","f_quantity","payTotal","reduce","partialSum","a","setTotalPrice","display","gap","alignItems","width","height","border","GREEN_PRIMARY","borderRadius","justifyContent","cursor","undefined","color","fontSize","fontWeight","background"],"sources":["/Users/elektroforesis/mppl-baru/mangan-mppl/frontend/src/components/QuantityButton.js"],"sourcesContent":["import { Box, Button, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport React, { useContext, useState } from \"react\";\nimport { AppContext } from \"../App\";\nimport EditIcon from \"../assets/checkout/EditIcon\";\nimport { THEME } from \"../constants/Theme\";\nimport { checkoutModel } from \"./API/GetAPI\";\n\nfunction QuantityButton({index, item, qty, initQty, onClick}) {\n  const [ItemQty, setItemQty] = React.useState(initQty);\n  const {APICheckout, setAPICheckout} = useContext(AppContext);\n  // const [foodID, setFoodID] = React.useState()\n\n  const deleteFromCheckout = async (index) => {\n    let foodID = 0\n\n    for(let i=0; i<APICheckout.length; i++){\n      console.log(\"MASUKK\")\n      if(APICheckout[i].f_id == index) {\n        console.log(\"DAPETT\")\n        foodID = APICheckout[i].id}\n    }\n\n    try {\n        await axios.delete(`http://localhost:8080/checkout/${foodID}`)\n    } catch (error) {\n      console.log(error);\n    }\n    const checkout = await checkoutModel(item);\n    setAPICheckout(checkout);\n    console.log(\"DELL\", index);\n    getAPI()\n  };\n\n  const getAPI = async (items) => {\n    const checkout = await checkoutModel(items);\n    setAPICheckout(checkout);\n    const foods = await foodModel();\n    setAPIFoods(foods);\n    let tot = []\n    for(let i=0; i<checkout.length; i++){\n      tot.push((checkout[i].f_price -\n        (checkout[i].f_price *\n          checkout[i].f_discount) /\n          100) *\n      (checkout[i].f_quantity))\n    }\n    const payTotal = tot.reduce((partialSum, a) => partialSum + a, 0);\n    // if(payTotal!=total ) {\n      // getAPI(item) \n    setTotalPrice(payTotal)\n    // }\n    // setTotal(payTotal)\n    // console.log(total!=total) \n  };\n\n  return (\n    <Box sx={{ display: \"flex\", gap: \"12px\", alignItems: \"center\" }}>\n      <Box\n        sx={{\n          width: \"24px\",\n          height: \"24px\",\n          border: \"1px solid\" + THEME.GREEN_PRIMARY,\n          borderRadius: \"4px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          \"&:hover\": {\n            cursor: \"pointer\",\n          },\n        }}\n        onClick={()=>deleteFromCheckout(index)}\n      >\n        <EditIcon />\n      </Box>\n      <Box\n        onClick={ItemQty > 1 ? () => {\n          setItemQty(ItemQty - 1) \n          qty(ItemQty - 1)}: undefined\n          \n        }\n        sx={{\n          width: \"24px\",\n          height: \"24px\",\n          border: \"1px solid\" + THEME.GREEN_PRIMARY,\n          borderRadius: \"4px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          color: THEME.GREEN_PRIMARY,\n          \"&:hover\": {\n            cursor: \"pointer\",\n          },\n        }}\n      >\n        <Typography>â€“</Typography>\n      </Box>\n      <Typography sx={{ fontSize: \"12px\", fontWeight: 600 }}>\n        {ItemQty}\n      </Typography>\n      <Box\n        onClick={() => {\n          setItemQty(ItemQty + 1) \n          qty(ItemQty + 1)}}\n        sx={{\n          width: \"24px\",\n          height: \"24px\",\n          border: \"1px solid\" + THEME.GREEN_PRIMARY,\n          borderRadius: \"4px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          background: THEME.GREEN_PRIMARY,\n          color: \"white\",\n          \"&:hover\": {\n            cursor: \"pointer\",\n          },\n        }}\n      >\n        <Typography>+</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nexport default QuantityButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}