{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaudh\\\\OneDrive\\\\Documents\\\\MPPL\\\\mangan-mppl\\\\frontend\\\\src\\\\components\\\\DeleteProduct.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport React, { useContext, useState } from \"react\";\nimport { AppContext } from \"../App\";\nimport EditIcon from \"../assets/checkout/EditIcon\";\nimport { THEME } from \"../constants/Theme\";\nimport { checkoutModel } from \"./API/GetAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DeleteProduct(_ref) {\n  _s();\n\n  let {\n    index,\n    item,\n    qty,\n    initQty,\n    onClick\n  } = _ref;\n  const [ItemQty, setItemQty] = React.useState(initQty);\n  const {\n    APICheckout,\n    setAPICheckout\n  } = useContext(AppContext);\n  const {\n    totalPrice,\n    setTotalPrice\n  } = useContext(AppContext); // const [foodID, setFoodID] = React.useState()\n\n  const deleteFromCheckout = async index => {\n    let foodID = 0;\n\n    for (let i = 0; i < APICheckout.length; i++) {\n      console.log(\"MASUKK\");\n\n      if (APICheckout[i].f_id == index) {\n        console.log(\"DAPETT\");\n        foodID = APICheckout[i].id;\n      }\n    }\n\n    try {\n      await axios.delete(`http://localhost:8080/foods/${index}`);\n    } catch (error) {\n      console.log(error);\n    }\n\n    const checkout = await checkoutModel(item);\n    setAPICheckout(checkout);\n    console.log(\"DELL\", index);\n    getAPI(item);\n  };\n\n  const getAPI = async item => {\n    const food = await food(item);\n    setAPICheckout(checkout);\n    const checkout = await checkoutModel(item);\n    setAPICheckout(checkout);\n    let tot = [];\n\n    for (let i = 0; i < checkout.length; i++) {\n      tot.push((checkout[i].f_price - checkout[i].f_price * checkout[i].f_discount / 100) * checkout[i].f_quantity);\n    }\n\n    const payTotal = tot.reduce((partialSum, a) => partialSum + a, 0); // if(payTotal!=total ) {\n    // getAPI(item) \n\n    setTotalPrice(payTotal); // }\n    // setTotal(payTotal)\n    // console.log(total!=total) \n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      gap: \"12px\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: \"24px\",\n        height: \"24px\",\n        border: \"1px solid\" + THEME.GREEN_PRIMARY,\n        borderRadius: \"4px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      onClick: () => deleteFromCheckout(index),\n      children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      onClick: ItemQty > 1 ? () => {\n        setItemQty(ItemQty - 1);\n        qty(ItemQty - 1);\n      } : undefined,\n      sx: {\n        width: \"24px\",\n        height: \"24px\",\n        border: \"1px solid\" + THEME.GREEN_PRIMARY,\n        borderRadius: \"4px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        color: THEME.GREEN_PRIMARY,\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"\\u2013\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        fontSize: \"12px\",\n        fontWeight: 600\n      },\n      children: ItemQty\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      onClick: () => {\n        setItemQty(ItemQty + 1);\n        qty(ItemQty + 1);\n      },\n      sx: {\n        width: \"24px\",\n        height: \"24px\",\n        border: \"1px solid\" + THEME.GREEN_PRIMARY,\n        borderRadius: \"4px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        background: THEME.GREEN_PRIMARY,\n        color: \"white\",\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DeleteProduct, \"iWC8k3vznhM+8hOWDxIiDmeeyDE=\");\n\n_c = DeleteProduct;\nexport default DeleteProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteProduct\");","map":{"version":3,"names":["Box","Button","Typography","axios","React","useContext","useState","AppContext","EditIcon","THEME","checkoutModel","DeleteProduct","index","item","qty","initQty","onClick","ItemQty","setItemQty","APICheckout","setAPICheckout","totalPrice","setTotalPrice","deleteFromCheckout","foodID","i","length","console","log","f_id","id","delete","error","checkout","getAPI","food","tot","push","f_price","f_discount","f_quantity","payTotal","reduce","partialSum","a","display","gap","alignItems","width","height","border","GREEN_PRIMARY","borderRadius","justifyContent","cursor","undefined","color","fontSize","fontWeight","background"],"sources":["C:/Users/gaudh/OneDrive/Documents/MPPL/mangan-mppl/frontend/src/components/DeleteProduct.js"],"sourcesContent":["import { Box, Button, Typography } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { AppContext } from \"../App\";\r\nimport EditIcon from \"../assets/checkout/EditIcon\";\r\nimport { THEME } from \"../constants/Theme\";\r\nimport { checkoutModel } from \"./API/GetAPI\";\r\n\r\nfunction DeleteProduct({index, item, qty, initQty, onClick}) {\r\n  const [ItemQty, setItemQty] = React.useState(initQty);\r\n  const {APICheckout, setAPICheckout} = useContext(AppContext);\r\n  const {totalPrice, \r\n    setTotalPrice\r\n  } = useContext(AppContext);\r\n  // const [foodID, setFoodID] = React.useState()\r\n\r\n  const deleteFromCheckout = async (index) => {\r\n    let foodID = 0\r\n\r\n    for(let i=0; i<APICheckout.length; i++){\r\n      console.log(\"MASUKK\")\r\n      if(APICheckout[i].f_id == index) {\r\n        console.log(\"DAPETT\")\r\n        foodID = APICheckout[i].id}\r\n    }\r\n\r\n    try {\r\n        await axios.delete(`http://localhost:8080/foods/${index}`)\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    const checkout = await checkoutModel(item);\r\n    setAPICheckout(checkout);\r\n    console.log(\"DELL\", index);\r\n    getAPI(item)\r\n  };\r\n\r\n  const getAPI = async (item) => {\r\n    const food = await food(item);\r\n    setAPICheckout(checkout);\r\n    const checkout = await checkoutModel(item);\r\n    setAPICheckout(checkout);\r\n    let tot = []\r\n    for(let i=0; i<checkout.length; i++){\r\n      tot.push((checkout[i].f_price -\r\n        (checkout[i].f_price *\r\n          checkout[i].f_discount) /\r\n          100) *\r\n      (checkout[i].f_quantity))\r\n    }\r\n    const payTotal = tot.reduce((partialSum, a) => partialSum + a, 0);\r\n    // if(payTotal!=total ) {\r\n      // getAPI(item) \r\n    setTotalPrice(payTotal)\r\n    // }\r\n    // setTotal(payTotal)\r\n    // console.log(total!=total) \r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\", gap: \"12px\", alignItems: \"center\" }}>\r\n      <Box\r\n        sx={{\r\n          width: \"24px\",\r\n          height: \"24px\",\r\n          border: \"1px solid\" + THEME.GREEN_PRIMARY,\r\n          borderRadius: \"4px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          \"&:hover\": {\r\n            cursor: \"pointer\",\r\n          },\r\n        }}\r\n        onClick={()=>deleteFromCheckout(index)}\r\n      >\r\n        <EditIcon />\r\n      </Box>\r\n      <Box\r\n        onClick={ItemQty > 1 ? () => {\r\n          setItemQty(ItemQty - 1) \r\n          qty(ItemQty - 1)}: undefined\r\n          \r\n        }\r\n        sx={{\r\n          width: \"24px\",\r\n          height: \"24px\",\r\n          border: \"1px solid\" + THEME.GREEN_PRIMARY,\r\n          borderRadius: \"4px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          color: THEME.GREEN_PRIMARY,\r\n          \"&:hover\": {\r\n            cursor: \"pointer\",\r\n          },\r\n        }}\r\n      >\r\n        <Typography>â€“</Typography>\r\n      </Box>\r\n      <Typography sx={{ fontSize: \"12px\", fontWeight: 600 }}>\r\n        {ItemQty}\r\n      </Typography>\r\n      <Box\r\n        onClick={() => {\r\n          setItemQty(ItemQty + 1) \r\n          qty(ItemQty + 1)}}\r\n        sx={{\r\n          width: \"24px\",\r\n          height: \"24px\",\r\n          border: \"1px solid\" + THEME.GREEN_PRIMARY,\r\n          borderRadius: \"4px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          background: THEME.GREEN_PRIMARY,\r\n          color: \"white\",\r\n          \"&:hover\": {\r\n            cursor: \"pointer\",\r\n          },\r\n        }}\r\n      >\r\n        <Typography>+</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default DeleteProduct;"],"mappings":"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"},"metadata":{},"sourceType":"module"}